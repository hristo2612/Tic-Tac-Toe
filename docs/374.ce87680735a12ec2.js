"use strict";(self.webpackChunktic_tac=self.webpackChunktic_tac||[]).push([[374],{4374:(M,g,s)=>{s.r(g),s.d(g,{GameModule:()=>P});var p=s(9808),f=s(2747),t=s(4893),h=s(4004),_=s(9300),b=s(520);let y=(()=>{class n{constructor(){this.onClick=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tile"]],inputs:{value:"value"},outputs:{onClick:"onClick"},decls:2,vars:1,consts:[[1,"tile",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return o.onClick.emit()}),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",o.value,"\n"))},styles:[".tile[_ngcontent-%COMP%]{background-color:#6b4f4f;color:#fff3e4;border:none;width:80px;height:80px;padding:0;font-size:3rem;border-radius:.5rem;text-align:center;display:flex;justify-content:center;align-items:center;transition:all .3s ease-out;-webkit-user-select:none;user-select:none}"],changeDetection:0}),n})();function v(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"app-tile",6),t.NdJ("onClick",function(){const c=t.CHM(e).index,l=t.oxw().index;return t.oxw().onTileClick(l,c)}),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("value",o.symbol[e])}}function C(n,r){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,v,2,1,"div",4),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRestart()}),t._uU(4,"New Game?"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.message)}}function T(n,r){if(1&n&&t._UZ(0,"img",11),2&n){const e=t.oxw(2);t.Q6J("src",e.randomGIF,t.LSH)}}function w(n,r){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,T,1,1,"img",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.randomGIF)}}let k=(()=>{class n{constructor(e){this.http=e,this.symbol=[,"X","O"],this.emptyArray=(o,i)=>[...Array(o).fill(i)],this.board=this.emptyArray(3,this.emptyArray(3,0)),this.currentPlayer=1,this.thinking=!1,this.message=""}onTileClick(e,o){if(!this.thinking&&this.isEmptyCell(e,o)){if(this.board=this.updatedBoard(this.board,e,o),1===this.winner)return void(this.message="You Won!");if(2===this.winner)return void(this.message="You Lost!");if(this.draw)return void(this.message="Draw!");this.currentPlayer=this.changePlayer(),2===this.currentPlayer&&this.computerTurn()}}onRestart(){this.board=this.emptyBoard(),this.currentPlayer=1,this.message=""}get winner(){var e;const o=null===(e=this.board.find(a=>a.every((d,m,u)=>d===u[0])))||void 0===e?void 0:e[0],i=this.board[0].find((a,d)=>this.board.every(m=>m[d]===a));return o||i||(this.board[0][0]===this.board[1][1]&&this.board[1][1]===this.board[2][2]?this.board[0][0]:null)||(this.board[0][2]===this.board[1][1]&&this.board[1][1]===this.board[2][0]?this.board[0][2]:null)}get draw(){return this.board.every(e=>e.every(o=>0!==o))}computerTurn(){this.thinking=!0,this.randomGIF="",this.getRandomGif().subscribe(e=>{this.randomGIF=e,setTimeout(()=>{this.thinking=!1;const o=this.board.reduce((a,d,m)=>(d.forEach((u,O)=>{0===u&&a.push([m,O])}),a),[]),i=Math.floor(Math.random()*o.length),[c,l]=o[i];this.board=this.updatedBoard(this.board,c,l),2!==this.winner?this.draw?this.message="Draw!":this.currentPlayer=this.changePlayer():this.message="You Lost!"},3e3)})}changePlayer(){return 1===this.currentPlayer?2:1}isEmptyCell(e,o){return 0===this.board[e][o]}updatedBoard(e,o,i){return e.map((c,l)=>o===l?c.map((a,d)=>i===d?this.currentPlayer:a):c)}emptyBoard(){return this.emptyArray(3,this.emptyArray(3,0))}getRandomGif(){return this.http.get("https://api.giphy.com/v1/gifs/random?api_key=5VWzikTONVTDeZD7saUk6gZfpXfzv6JL&tag=think&limit=6&rating=r",{responseType:"json"}).pipe((0,h.U)(e=>{var o;return null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.id}),(0,_.h)(e=>!!e),(0,h.U)(e=>`https://i.giphy.com/media/${e}/giphy.webp`))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-board"]],decls:4,vars:3,consts:[[1,"board"],["class","board__row",4,"ngFor","ngForOf"],["class","board__over",4,"ngIf"],[1,"board__row"],["class","board__col",4,"ngFor","ngForOf"],[1,"board__col"],[3,"value","onClick"],[1,"board__over"],[1,"board__message"],[1,"board__button",3,"click"],["alt","random thinking gif","class","board__gif",3,"src",4,"ngIf"],["alt","random thinking gif",1,"board__gif",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,C,2,1,"div",1),t.YNc(2,x,5,1,"div",2),t.YNc(3,w,2,1,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.board),t.xp6(1),t.Q6J("ngIf",o.message),t.xp6(1),t.Q6J("ngIf",o.thinking))},directives:[p.sg,y,p.O5],styles:[".board[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:1rem}.board__row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem}.board__col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.board__over[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:#483434b3}.board__message[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;color:#fff3e4;text-align:center}.board__button[_ngcontent-%COMP%]{border-radius:.3rem;border:none;padding:.5rem 1rem;background-color:#eed6c4;color:#483434;font-size:1.2rem}.board__gif[_ngcontent-%COMP%]{border-radius:.5rem;height:50%;width:auto;opacity:.6}"]}),n})();const Z=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"game"],[1,"game__title"],[1,"game__description"],[1,"game__content"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"h1",1),t._uU(2," [ Tic Tac Toe ] "),t.qZA(),t.TgZ(3,"p",2),t._uU(4," Play against the dumbest AI ever! "),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-board"),t.qZA()())},directives:[k],styles:[".game__title[_ngcontent-%COMP%]{font-size:3rem;font-weight:400;word-spacing:0;letter-spacing:0;text-align:center}.game__description[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;text-align:center}.game__content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:4rem}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,f.Bz.forChild(Z)]]}),n})()}}]);